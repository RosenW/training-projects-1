<html lang="en">
  <head>
    <link rel="stylesheet" type="text/css" href="./bootstrap.css">
  </head>
   <body>
    <ul class="list-group-item col-lg-offset-4 col-md-offset-4 col-sm-offset-4 col-xs-offset-4 col-lg-4 col-md-4 col-sm-4 col-xs-4">
      <form>
        <input type="text" name="term" id='search-box' placeholder="Search Users by name" class="form-control">
        <br>
        <input type="submit" id="search-btn" value="Search" class='btn btn-default pull-right'>
      </form>
    </ul>
    <h2 class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">Registered Users</h2>
    <table id="users-table" class="table table-hover">
      <tr>
        <th>User</th>
        <th>Date Registered</th>
      </tr>
      {{#each users}}
        <tr class="gen-tr">
          <td>{{username}}</td>
          <td>{{date_registered}}</td>
        </tr>
      {{/each}}
    </table>
  </body>
</html>

<script type="text/javascript">
  const table = document.getElementById('users-table');
  const searchBtn = document.getElementById('search-btn');
  const searchBox = document.getElementById('search-box');

  const data = await response.json();

  cleanTable();

  for (const account of data.accounts) {
    const cellValues = {
      username: account.username,
      date_registered: account.date_registered
    };

    const row = table.insertRow(-1);

    let index = 0;
    for (const key of Object.keys(cellValues)) {
      const cell = row.insertCell(index++);
      cell.appendChild(document.createTextNode(cellValues[key]));
    }
  }

  function cleanTable () {
    const tableHeaders = ['User', 'Date Registered'];
    const headers = tableHeaders.map((header) => `<th>${header}</th>`).join('');
    table.innerHTML = `<tr>${headers}</tr>`;
  }
</script>