POST '/api/forecast'
Function cityNameToPascal
SELECT * FROM cities WHERE name = $1
SELECT * FROM api_keys WHERE key = $1
UPDATE api_keys SET use_count = $1 WHERE id = $2
SELECT * FROM weather_conditions WHERE city_id = $1
SELECT * FROM users WHERE id = $1
UPDATE users SET successful_requests = $1, failed_requests = $2 WHERE id = $3
SELECT * FROM requests WHERE city = $1
UPDATE requests SET call_count = $1 WHERE city = $2
POST '/api/forecast'
Function cityNameToPascal
SELECT * FROM cities WHERE name = $1
SELECT * FROM api_keys WHERE key = $1
UPDATE api_keys SET use_count = $1 WHERE id = $2
SELECT * FROM weather_conditions WHERE city_id = $1
SELECT * FROM users WHERE id = $1
UPDATE users SET successful_requests = $1, failed_requests = $2 WHERE id = $3
SELECT * FROM requests WHERE city = $1
UPDATE requests SET call_count = $1 WHERE city = $2
POST '/api/forecast'
Function cityNameToPascal
SELECT * FROM cities WHERE name = $1
SELECT * FROM api_keys WHERE key = $1
UPDATE api_keys SET use_count = $1 WHERE id = $2
SELECT * FROM weather_conditions WHERE city_id = $1
SELECT * FROM users WHERE id = $1
UPDATE users SET successful_requests = $1, failed_requests = $2 WHERE id = $3
SELECT * FROM requests WHERE city = $1
UPDATE requests SET call_count = $1 WHERE city = $2
POST '/api/forecast'
SELECT * FROM cities WHERE name = $1
SELECT * FROM api_keys WHERE key = $1
UPDATE api_keys SET use_count = $1 WHERE id = $2
SELECT * FROM weather_conditions WHERE city_id = $1
SELECT * FROM users WHERE id = $1
UPDATE users SET successful_requests = $1, failed_requests = $2 WHERE id = $3
SELECT * FROM requests WHERE iata_code = $1
UPDATE requests SET call_count = $1 WHERE iata_code = $2
