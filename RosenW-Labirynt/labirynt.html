<html lang="en">
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  </head>
   <body>
     <label>Input Matrix</label>
     <input type="text" id='matrix' placeholder="[[a, b], [c, d], [e, f]]">
     <button id='submit'> submit </button>
     <p id='error'> </p>
     <canvas id="myCanvas" width="5000" height="5000">
     </canvas>
    </body>
</html>


<script>
    $('#submit').click(function(){
      let matrixString = $('#matrix').val();
      let matrix = JSON.parse(matrixString);

      let width = matrix.length;
      let height = matrix[0].length;

      result = findPath(matrix);
    });

    function checkForCoord(arr, x, y){
      for (var i = 0; i < arr.length; i++) {
        if(arr[i].x == x && arr[i].y == y){
          return true;
        }
      }
      return false;
    }

    function findPath(matrix){
      let checked = [{x: 0, y: 0}];
      let queue = [{x: 0, y: 0}];

      while(queue.length > 0){
        let path = [];
        path.push(queue.shift());
        let pos = path[path.length-1];

        console.log('queue: ' + queue)
        console.log('checked: ' + checked[0].x)
        console.log('path: ' + path);

        console.log('posx: ' + pos.x);
        console.log('posy: ' + pos.y);

        console.log('matrix[x][y]: ' + matrix[pos.x][pos.y]);

        if(matrix[pos.x][pos.y]=='e'){
          return path;
        }

        try{
          if(matrix[pos.x+1][pos.y] != '*' && !checkForCoord(checked, pos.x+1, pos.y)){
            console.log('pushing');
            path.push({x: pos.x+1, y:pos.y});
            queue.push(path);
            checked.push({x: pos.x+1, y:pos.y});
            console.log(path);
            console.log(queue);
            console.log(checked);
          }
        }catch(err){
          console.log(err);
        }
        try{
          if(matrix[pos.x-1][pos.y] != '*' && !checkForCoord(checked, pos.x-1, pos.y)){
            queue.push(path.push({x: pos.x-1, y:pos.y}));
            checked.push({x: pos.x-1, y:pos.y});
          }
        }catch(err){
          console.log(err);
        }
        try{
          if(matrix[pos.x][pos.y+1] != '*' && !checkForCoord(checked, pos.x, pos.y+1)){
            queue.push(path.push({x: pos.x, y:pos.y+1}));
            checked.push({x: pos.x, y:pos.y+1});
          }
        }catch(err){
          console.log(err);
        }
        try{
          if(matrix[pos.x][pos.y-1] != '*' && !checkForCoord(checked, pos.x, pos.y-1)){
            queue.push(path.push({x: pos.x, y:pos.y-1}));
            checked.push({x: pos.x, y:pos.y-1});
          }
        }catch(err){
          console.log(err);
        }
      }
      return 'No path available';
    }
</script>